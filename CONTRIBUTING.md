# Contributing

Thanks for contributing to Colony Frontier.

## Development Setup

```bash
npm install
npm start
```

## New Contributor Quick Start

Use this minimal flow before opening a PR:

1. Run baseline tests:

   ```bash
   npm test
   ```

2. If your changes are tuning-only/content-only, run:

   ```bash
   npm run simulate:tuning:prepr
   ```

3. If your PR also changes gameplay/simulation/runtime code, additionally run:

   ```bash
   npm run verify
   ```

4. Open `.github/pull_request_template.md` and complete the checklist using the command outputs/artifacts.

## Validation Commands

- `npm test` — required baseline test suite.
- `npm run verify` — full local parity with the default CI gate.

## Pull Request Checklist Mapping

The pull request template checkboxes map to these commands/artifacts:
Template path: `.github/pull_request_template.md`.
This guide and the PR template are intentionally synchronized process references.

| PR Template Item | Command | What to Review |
| --- | --- | --- |
| `npm test` | `npm test` | All unit tests pass |
| `npm run verify` (non-trivial gameplay/simulation) | `npm run verify` | Full deterministic/regression/report pipeline passes |
| Tuning pre-submit gate | `npm run simulate:tuning:prepr` | Strict tuning checks + report schema validation pass |
| Review tuning dashboard | generated by `simulate:tuning:prepr` | `reports/scenario-tuning-dashboard.md` |
| Review tuning trend | generated by `simulate:tuning:prepr` | `reports/scenario-tuning-trend.md` |
| Review tuning baseline suggestions | generated by `simulate:tuning:prepr` | `reports/scenario-tuning-baseline-suggestions.md` |

## Tuning Change Guidance

If your PR changes scenario tuning inputs (for example `src/content/scenarios.js` or committed tuning baselines), run:

```bash
npm run simulate:tuning:prepr
```

Use this rule of thumb:
- tuning-only/content-only PRs: `simulate:tuning:prepr` is the required pre-submit gate.
- PRs that also change gameplay/simulation/runtime code: run **both** `simulate:tuning:prepr` and `verify`.

If baseline suggestions are intentionally accepted, update committed baseline files in the same PR and mention the intent in the PR summary.
